<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.acmed.his.dao.ChargeMapper">

    <delete id="delByPreId" parameterType="java.lang.Integer">
        DELETE from t_b_charge where prescriptionid = #{prescriptionId}
    </delete>

    <insert id="insertCharge">
      INSERT into t_b_charge(prescriptionid,applyid,patientid,orgcode,dept,deptname,
        category,fee,
        createat,createby,modifyat,modifyby) VALUES
        ((select id from t_b_prescription where prescriptionno = #{prescriptionNo}),
        #{charge.applyId},#{charge.patientId},#{charge.orgCode},#{charge.dept},#{charge.deptName},
        #{charge.category},#{charge.fee},
        #{charge.createAt},#{charge.createBy},#{charge.modifyAt},#{charge.modifyBy})
    </insert>
</mapper>