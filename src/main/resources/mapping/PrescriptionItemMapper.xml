<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.acmed.his.dao.PrescriptionItemMapper">


    <delete id="delByPreId" parameterType="java.lang.Integer">
        DELETE from t_b_prescription_item where prescriptionid = #{prescriptionId}
    </delete>


    <insert id="insertItem">
        insert into t_b_prescription_item(prescriptionid,drugid,applyid,
        category,drugname,way,num,frequency,course,fee)
        VALUES ((select id from t_b_prescription where prescriptionno = #{prescriptionNo}),#{item.drugId},
        #{item.applyId},
        #{item.category},#{item.drugName},#{item.way},#{item.num},#{item.frequency},#{item.course},#{item.fee})
    </insert>
</mapper>